# Cron-Systemd

# ๐ ะะขะงะะข: ะกัะฐะฒะฝะตะฝะธะต Cron ะธ Systemd ะดะปั ะฟะปะฐะฝะธัะพะฒะฐะฝะธั ะทะฐะดะฐั ะฒ Linux

## ๐ ะะฝัะพัะผะฐัะธั ะพ ะฒัะฟะพะปะฝะตะฝะธะธ
- **ะกััะดะตะฝั:** ะกัะปัะฐะฝะฐะตะฒะฐ ะะตะฝะฐัะฐ
- **ะััะฟะฟะฐ:** ะะ-430ะ
- **ะะฐัะฐ ะฒัะฟะพะปะฝะตะฝะธั:** 13.12.2025

---

## ๐ฏ ะฆะตะปั ัะฐะฑะพัั
ะกัะฐะฒะฝะธัั ะดะฒะฐ ะผะตัะพะดะฐ ะฟะปะฐะฝะธัะพะฒะฐะฝะธั ะฟะตัะธะพะดะธัะตัะบะธั ะทะฐะดะฐั ะฒ Linux: ััะฐะดะธัะธะพะฝะฝัะน **Cron** ะธ ัะพะฒัะตะผะตะฝะฝัะน **Systemd Timer**. ะะตะฐะปะธะทะพะฒะฐัั ะพะดะธะฝ ะธ ัะพั ะถะต ัะบัะธะฟั ะพะฑะพะธะผะธ ัะฟะพัะพะฑะฐะผะธ.

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ
```
/home/david44/
โโโ cron_scripts/
โ   โโโ send_request.sh      # Bash-ัะบัะธะฟั ะดะปั ะพัะฟัะฐะฒะบะธ HTTP-ะทะฐะฟัะพัะพะฒ
โโโ cron_requests.log        # ะะพะณ-ัะฐะนะป ะฒัะฟะพะปะฝะตะฝะธั ัะบัะธะฟัะฐ ัะตัะตะท Cron
โโโ monitoring-stack/        # ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะผะฐัะตัะธะฐะปั
โโโ ansible-managed-host/    # ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะผะฐัะตัะธะฐะปั
```

---

## ๐ ะงะฐััั 1: ะะตะฐะปะธะทะฐัะธั ัะตัะตะท Cron

### 1.1 ะกะพะทะดะฐะฝะฝัะน bash-ัะบัะธะฟั
**ะคะฐะนะป:** `~/cron_scripts/send_request.sh`

```bash
#!/bin/bash
TARGET_URL="https://api.example.com/webhook"
curl -s -w "\nHTTP Status: %{http_code}\n" "$TARGET_URL" >> /home/Renata/cron_requests.log 2>&1
echo "[$(date '+%Y-%m-%d %H:%M:%S')] Request sent to $TARGET_URL" >> /home/Renata/cron_requests.log
exit 0

```

*(ะกะบัะธะฝัะพั 1: ะกะพะดะตัะถะธะผะพะต ัะบัะธะฟัะฐ send_request.sh)*
<img width="1186" height="159" alt="image" src="https://github.com/user-attachments/assets/b7404587-c330-4aa1-a9fa-e6ae082015a9" />



---

### 1.2 ะะฐัััะพะนะบะฐ ัะฐัะฟะธัะฐะฝะธั ะฒ Crontab
**ะะพะผะฐะฝะดะฐ ะดะปั ะฟัะพัะผะพััะฐ:** `crontab -l`

```
*/5 * * * * /home/david44/cron_scripts/send_request.sh
```

**ะะฑัััะฝะตะฝะธะต ัะพัะผะฐัะฐ:**
```
*/5  *    *    *    *    /home/david44/cron_scripts/send_request.sh
 โ    โ    โ    โ    โ      โ
 โ    โ    โ    โ    โ      โโโ ะะพะผะฐะฝะดะฐ ะดะปั ะฒัะฟะพะปะฝะตะฝะธั
 โ    โ    โ    โ    โโโโโโโโโโ ะะตะฝั ะฝะตะดะตะปะธ (0-7, 0=ะฒะพัะบัะตัะตะฝัะต)
 โ    โ    โ    โโโโโโโโโโโโโโโ ะะตััั (1-12)
 โ    โ    โโโโโโโโโโโโโโโโโโโโ ะะตะฝั ะผะตัััะฐ (1-31)
 โ    โโโโโโโโโโโโโโโโโโโโโโโโโ ะงะฐั (0-23)
 โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ ะะธะฝััะฐ (0-59) โ ะบะฐะถะดัะต 5 ะผะธะฝัั
```

*(ะกะบัะธะฝัะพั 2: ะัะฒะพะด ะบะพะผะฐะฝะดั crontab -l)*
<img width="636" height="516" alt="image" src="https://github.com/user-attachments/assets/82da46be-4416-4c5b-a9ba-836e1448e920" />



---

### 1.3 ะัะพะฒะตัะบะฐ ัะฐะฑะพัั Cron
**ะะพะณ-ัะฐะนะป ะฒัะฟะพะปะฝะตะฝะธั:** `~/cron_requests.log`

```bash
# ะะพะผะฐะฝะดะฐ ะดะปั ะฟัะพัะผะพััะฐ ะปะพะณะพะฒ
tail -10 ~/cron_requests.log
```

**ะัะธะผะตั ะฒัะฒะพะดะฐ:**
```
[2025-12-10 12:00:02] Request sent to https://api.example.com/webhook
HTTP Status: 000
[2025-12-10 12:05:01] Request sent to https://api.example.com/webhook
HTTP Status: 000
[2025-12-13 00:05:03] Request sent to https://api.example.com/webhook
HTTP Status: 000
```

*(ะกะบัะธะฝัะพั 3: ะกะพะดะตัะถะธะผะพะต ะปะพะณ-ัะฐะนะปะฐ)*
<img width="640" height="138" alt="image" src="https://github.com/user-attachments/assets/e0e33e2a-724e-4311-9ed5-1e33098786a2" />



---

### 1.4 ะกัะฐััั Cron ะดะตะผะพะฝะฐ
```bash
sudo systemctl status cron --no-pager | head -10
```

*(ะกะบัะธะฝัะพั 4: ะกัะฐััั ัะปัะถะฑั cron)*
<img width="763" height="203" alt="image" src="https://github.com/user-attachments/assets/5ae925d4-c109-43a7-b0ad-d188636417bd" />

[ะะกะขะะะฌะขะ ะกะะะะะจะะข 8 ะะะะกะฌ]

๐ ะกัะฐะฒะฝะธัะตะปัะฝะฐั ัะฐะฑะปะธัะฐ Cron vs Systemd
ะัะธัะตัะธะน	Cron	Systemd Timer
ะกะธะฝัะฐะบัะธั	*/5 * * * *	OnUnitActiveSec=10min ะธะปะธ OnCalendar=*-*-* *:0/5:00
ะะพะณะธัะพะฒะฐะฝะธะต	ะคะฐะนะป ะปะพะณะพะฒ (~/cron_requests.log)	ะงะตัะตะท journald (journalctl -u service)
ะะฐะฒะธัะธะผะพััะธ	ะะตั ะบะพะฝััะพะปั ะทะฐะฒะธัะธะผะพััะตะน	ะััั ะบะพะฝััะพะปั (After, Requires, Wants)
ะัะพะฟััะตะฝะฝัะต ะทะฐะฟััะบะธ	ะัะพะฟััะบะฐัััั ะฑะตะท ะบะพะผะฟะตะฝัะฐัะธะธ	Persistent=true ะบะพะผะฟะตะฝัะธััะตั ะฟัะพะฟััะบะธ
ะฃะฟัะฐะฒะปะตะฝะธะต	crontab -e, crontab -l	systemctl, journalctl
ะะฝัะตะณัะฐัะธั	ะัะดะตะปัะฝัะน ะดะตะผะพะฝ	ะะฝัะตะณัะธัะพะฒะฐะฝ ะฒ systemd ัะบะพัะธััะตะผั
ะะตะทะพะฟะฐัะฝะพััั	ะัะฟะพะปะฝัะตััั ะพั ะฟะพะปัะทะพะฒะฐัะตะปั	ะะพะฝััะพะปั ัะตัะตะท SecurityContext, Capabilities
ะะพะฝะธัะพัะธะฝะณ	ะะพะณะธ ะฒ ัะฐะนะปะต, ะฝัะถะตะฝ ะดะพัััะฟ ะบ ัะฐะนะปั	ะะดะธะฝัะน ะถััะฝะฐะป ัะตัะตะท journald
ะะธะฑะบะพััั	ะขะพะปัะบะพ ะฒัะตะผะตะฝะฝัะต ะธะฝัะตัะฒะฐะปั	ะะฐะฒะธัะธะผะพััะธ, ััะปะพะฒะธั ะทะฐะฟััะบะฐ, ะบะพะฝััะพะปั ัะตััััะพะฒ
๐ ะะพะดัะพะฑะฝะพะต ััะฐะฒะฝะตะฝะธะต Cron ะธ Systemd
---

