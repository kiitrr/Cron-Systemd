# Cron-Systemd

# üìã –û–¢–ß–ï–¢: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Cron –∏ Systemd –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á –≤ Linux

## üìå –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
- **–°—Ç—É–¥–µ–Ω—Ç:** –°—É–ª—Ç–∞–Ω–∞–µ–≤–∞ –†–µ–Ω–∞—Ç–∞
- **–ì—Ä—É–ø–ø–∞:** –ü–ò-430–ë
- **–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 13.12.2025

---

## üéØ –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã
–°—Ä–∞–≤–Ω–∏—Ç—å –¥–≤–∞ –º–µ—Ç–æ–¥–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –≤ Linux: —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π **Cron** –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π **Systemd Timer**. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–∫—Ä–∏–ø—Ç –æ–±–æ–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
/home/david44/
‚îú‚îÄ‚îÄ cron_scripts/
‚îÇ   ‚îî‚îÄ‚îÄ send_request.sh      # Bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ cron_requests.log        # –õ–æ–≥-—Ñ–∞–π–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ —á–µ—Ä–µ–∑ Cron
‚îú‚îÄ‚îÄ monitoring-stack/        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚îî‚îÄ‚îÄ ansible-managed-host/    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
```

---

## üìù –ß–∞—Å—Ç—å 1: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Cron

### 1.1 –°–æ–∑–¥–∞–Ω–Ω—ã–π bash-—Å–∫—Ä–∏–ø—Ç
**–§–∞–π–ª:** `~/cron_scripts/send_request.sh`

```bash
#!/bin/bash
TARGET_URL="https://api.example.com/webhook"
curl -s -w "\nHTTP Status: %{http_code}\n" "$TARGET_URL" >> /home/Renata/cron_requests.log 2>&1
echo "[$(date '+%Y-%m-%d %H:%M:%S')] Request sent to $TARGET_URL" >> /home/Renata/cron_requests.log
exit 0

```

*(–°–∫—Ä–∏–Ω—à–æ—Ç 1: –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞ send_request.sh)*
<img width="1186" height="159" alt="image" src="https://github.com/user-attachments/assets/b7404587-c330-4aa1-a9fa-e6ae082015a9" />



---

### 1.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤ Crontab
**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞:** `crontab -l`

```
*/5 * * * * /home/david44/cron_scripts/send_request.sh
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞:**
```
*/5  *    *    *    *    /home/david44/cron_scripts/send_request.sh
 ‚îÇ    ‚îÇ    ‚îÇ    ‚îÇ    ‚îÇ      ‚îÇ
 ‚îÇ    ‚îÇ    ‚îÇ    ‚îÇ    ‚îÇ      ‚îî‚îÄ‚îÄ –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
 ‚îÇ    ‚îÇ    ‚îÇ    ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (0-7, 0=–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ)
 ‚îÇ    ‚îÇ    ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ú–µ—Å—è—Ü (1-12)
 ‚îÇ    ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –î–µ–Ω—å –º–µ—Å—è—Ü–∞ (1-31)
 ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ß–∞—Å (0-23)
 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –ú–∏–Ω—É—Ç–∞ (0-59) ‚Üí –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
```

*(–°–∫—Ä–∏–Ω—à–æ—Ç 2: –í—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã crontab -l)*
<img width="636" height="516" alt="image" src="https://github.com/user-attachments/assets/82da46be-4416-4c5b-a9ba-836e1448e920" />



---

### 1.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Cron
**–õ–æ–≥-—Ñ–∞–π–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** `~/cron_requests.log`

```bash
# –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤
tail -10 ~/cron_requests.log
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
[2025-12-10 12:00:02] Request sent to https://api.example.com/webhook
HTTP Status: 000
[2025-12-10 12:05:01] Request sent to https://api.example.com/webhook
HTTP Status: 000
[2025-12-13 00:05:03] Request sent to https://api.example.com/webhook
HTTP Status: 000
```

*(–°–∫—Ä–∏–Ω—à–æ—Ç 3: –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ª–æ–≥-—Ñ–∞–π–ª–∞)*
<img width="659" height="204" alt="image" src="https://github.com/user-attachments/assets/f1542934-86b8-457a-8849-5cbaf16f8ffc" />


---

### 1.4 –°—Ç–∞—Ç—É—Å Cron –¥–µ–º–æ–Ω–∞
```bash
sudo systemctl status cron --no-pager | head -10
```

*(–°–∫—Ä–∏–Ω—à–æ—Ç 4: –°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã cron)*
<img width="763" height="203" alt="image" src="https://github.com/user-attachments/assets/5ae925d4-c109-43a7-b0ad-d188636417bd" />


---

## ‚ö° –ß–∞—Å—Ç—å 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Systemd Timer

### 2.1 Systemd Service —Ñ–∞–π–ª
**–§–∞–π–ª:** `/etc/systemd/system/webcheck.service`

```ini
[Unit]
Description=Web Check Service via Systemd
After=network.target
Wants=network.target

[Service]
Type=oneshot
User=david44
ExecStart=/home/david44/cron_scripts/send_request.sh
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
```

*(–°–∫—Ä–∏–Ω—à–æ—Ç 5: –°–æ–¥–µ—Ä–∂–∏–º–æ–µ webcheck.service)*
[–í–°–¢–ê–í–¨–¢–ï –°–ö–†–ò–ù–®–û–¢ 5 –ó–î–ï–°–¨]

---

### 2.2 Systemd Timer —Ñ–∞–π–ª
**–§–∞–π–ª:** `/etc/systemd/system/webcheck.timer`

```ini
[Unit]
Description=Run Web Check every 10 minutes via Systemd Timer
Requires=webcheck.service

[Timer]
OnBootSec=1min
OnUnitActiveSec=10min
Persistent=true

[Install]
WantedBy=timers.target
```

*(–°–∫—Ä–∏–Ω—à–æ—Ç 6: –°–æ–¥–µ—Ä–∂–∏–º–æ–µ webcheck.timer)*
[–í–°–¢–ê–í–¨–¢–ï –°–ö–†–ò–ù–®–û–¢ 6 –ó–î–ï–°–¨]

---

### 2.3 –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–º–µ—Ä–∞

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ç–∞–π–º–µ—Ä–∞:**
```bash
sudo systemctl daemon-reload
sudo systemctl enable --now webcheck.timer
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–∞–π–º–µ—Ä–æ–≤:**
```bash
sudo systemctl list-timers --all | grep -E "(webcheck|NEXT|LAST|UNIT)"
```

*(–°–∫—Ä–∏–Ω—à–æ—Ç 7: –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–∞–π–º–µ—Ä–æ–≤ systemd)*
[–í–°–¢–ê–í–¨–¢–ï –°–ö–†–ò–ù–®–û–¢ 7 –ó–î–ï–°–¨]

---

### 2.4 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Journald
**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
```bash
sudo journalctl -u webcheck.service -n 5 --no-pager
```

*(–°–∫—Ä–∏–Ω—à–æ—Ç 8: –õ–æ–≥–∏ systemd –≤ journalctl)*
[–í–°–¢–ê–í–¨–¢–ï –°–ö–†–ò–ù–®–û–¢ 8 –ó–î–ï–°–¨]

---

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ Cron vs Systemd

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Cron | Systemd Timer |
|----------|------|---------------|
| **–°–∏–Ω—Ç–∞–∫—Å–∏—Å** | `*/5 * * * *` | `OnUnitActiveSec=10min` |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | –§–∞–π–ª –ª–æ–≥–æ–≤ (~/cron_requests.log) | –ß–µ—Ä–µ–∑ journald (`journalctl -u service`) |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** | –ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | –ï—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å (After, Requires) |
| **–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏** | –ü—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –±–µ–∑ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ | `Persistent=true` –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç –ø—Ä–æ–ø—É—Å–∫–∏ |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** | `crontab -e`, `crontab -l` | `systemctl`, `journalctl` |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | –û—Ç–¥–µ–ª—å–Ω—ã–π –¥–µ–º–æ–Ω | –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ systemd —ç–∫–æ—Å–∏—Å—Ç–µ–º—É |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –ü—Ä–æ—Å—Ç–æ–π | –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π, –Ω–æ –º–æ—â–Ω—ã–π |

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ Cron:
1. –°–æ–∑–¥–∞–Ω bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
2. –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
3. –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª
4. –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ Systemd:
1. –°–æ–∑–¥–∞–Ω systemd service unit
2. –°–æ–∑–¥–∞–Ω systemd timer unit —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 10 –º–∏–Ω—É—Ç
3. –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å journald –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
4. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω —Ç–∞–π–º–µ—Ä —Å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º

---

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤—ã–≤–æ–¥—ã

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Cron:
1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
2. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö Unix-—Å–∏—Å—Ç–µ–º–∞—Ö
3. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –≤ crontab

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Systemd Timer:
1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞–º–∏
2. **–ö–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
3. **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** - –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤
4. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —á–µ—Ä–µ–∑ journald

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- **–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Cron
- **–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Systemd Timer
- **–î–ª—è –Ω–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º** - –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ Systemd –∫–∞–∫ –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

---

## üõ† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (—à–ø–∞—Ä–≥–∞–ª–∫–∞)

```bash
# Cron
crontab -e                    # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å crontab
crontab -l                    # –ü–æ–∫–∞–∑–∞—Ç—å crontab
tail -f ~/cron_requests.log   # –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

# Systemd
sudo systemctl daemon-reload                 # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo systemctl enable --now webcheck.timer   # –í–∫–ª—é—á–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä
sudo systemctl list-timers --all             # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ç–∞–π–º–µ—Ä—ã
sudo journalctl -u webcheck.service -f       # –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞
```

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏
1. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Cron: `man 5 crontab`
2. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Systemd: `man systemd.timer`
3. Ubuntu Manpages: https://manpages.ubuntu.com/

---

## ‚úçÔ∏è –ü–æ–¥–ø–∏—Å—å —Å—Ç—É–¥–µ–Ω—Ç–∞
_________________________
[–§–ò–û —Å—Ç—É–¥–µ–Ω—Ç–∞]

*–î–∞—Ç–∞: 13.12.2025*
